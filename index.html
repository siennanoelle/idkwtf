<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sakura Mood Tracker</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(to bottom, #ffe5f1, #ffd1e8);
      color: #6b3a3a;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    h1 {
      font-size: 2rem;
      color: #d94e7f;
      margin-bottom: 10px;
    }
    .tracker-container {
      width: 90%;
      max-width: 600px;
      margin: 0 auto;
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      padding: 20px;
    }
    .mood-buttons {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }
    .mood-buttons button {
      flex: 1;
      margin: 0 5px;
      padding: 10px;
      border: none;
      border-radius: 8px;
      font-size: 0.9rem;
      cursor: pointer;
      background-color: #ffe5f1;
      color: #6b3a3a;
      transition: transform 0.2s;
    }
    .mood-buttons button:hover {
      transform: scale(1.05);
      background-color: #ffd1e8;
    }
    .chart-container {
      margin-top: 20px;
    }
    .bar {
      width: 30px;
      height: 50px;
      margin: 0 5px;
      display: inline-block;
      background-color: #f8a1c4;
      border-radius: 5px;
      transition: height 0.3s ease-in-out;
    }
    .bar-label {
      font-size: 0.8rem;
      margin-top: 5px;
    }
    footer {
      margin-top: 15px;
      font-size: 0.7rem;
      color: #8c5a5a;
    }
  </style>
</head>
<body>
  <div class="tracker-container">
    <h1>ðŸŒ¸ Sakura Mood Tracker ðŸŒ¸</h1>
    <div class="mood-buttons">
      <button onclick="logMood('Excited')">ðŸ˜† Excited</button>
      <button onclick="logMood('Happy')">ðŸ˜Š Happy</button>
      <button onclick="logMood('Relaxed')">ðŸ˜Œ Relaxed</button>
      <button onclick="logMood('Sad')">ðŸ˜¢ Sad</button>
      <button onclick="logMood('Angry')">ðŸ˜¡ Angry</button>
      <button onclick="logMood('Depressed')">ðŸ˜ž Depressed</button>
    </div>
    <div class="chart-container">
      <div id="chart"></div>
    </div>
    <footer>
      Mood tracking resets every week. One entry per day is allowed. ðŸŒ¸
    </footer>
  </div>
  <script>
    const moods = ['Excited', 'Happy', 'Relaxed', 'Sad', 'Angry', 'Depressed'];
    const moodData = JSON.parse(localStorage.getItem('moodData')) || {};
    const today = new Date().toDateString();

    function logMood(mood) {
      if (moodData[today]) {
        alert('You can only log one mood per day!');
        return;
      }

      moodData[today] = mood;
      localStorage.setItem('moodData', JSON.stringify(moodData));
      updateChart();
    }

    function updateChart() {
      const chartContainer = document.getElementById('chart');
      chartContainer.innerHTML = '';
      const counts = {};

      // Initialize counts for each mood
      moods.forEach(mood => (counts[mood] = 0));

      // Count the moods
      for (const date in moodData) {
        counts[moodData[date]]++;
      }

      // Create the bars
      for (const mood of moods) {
        const barHeight = counts[mood] * 20; // Scale height
        const bar = document.createElement('div');
        bar.className = 'bar';
        bar.style.height = `${barHeight}px`;
        const label = document.createElement('div');
        label.className = 'bar-label';
        label.textContent = mood;
        chartContainer.appendChild(bar);
        chartContainer.appendChild(label);
      }
    }

    // Weekly reset
    const lastWeek = JSON.parse(localStorage.getItem('lastWeek')) || today;
    const lastWeekDate = new Date(lastWeek);
    const currentWeek = new Date();

    if ((currentWeek - lastWeekDate) / (1000 * 60 * 60 * 24) >= 7) {
      localStorage.clear();
      localStorage.setItem('lastWeek', JSON.stringify(today));
    }

    updateChart();
  </script>
</body>
</html>
